<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{Dashboard :: layout(~{::title}, ~{::content})}">
<head>
    <title th:fragment="title">Notas de Proveedores | Admin</title>
</head>
<body>

<main class="content-area" th:fragment="content">

    <div class="view-header">
        <a th:href="@{/admin/dashboard}" class="back-button">
            <i class="fas fa-arrow-left"></i>
        </a>
        <h1 class="content-title">Captura de Notas</h1>
    </div>

    <div class="filters-container">
        <div class="filter-group-top" style="justify-content: center;">
            <label style="align-self: center; font-weight: 600;">Selecciona fecha:</label>
            <input type="date" class="filter-input" id="filtroFecha" value="2025-11-20">
            <button class="filter-button">Buscar</button>
        </div>
    </div>

    <h3 style="text-align: center; color: #555; margin-bottom: 1rem;">
        Mostrando notas del: <span style="color: #007bff;">20 Noviembre 2025</span>
    </h3>

    <div class="notes-blue-container">
        <div class="notes-grid">

            <div class="note-card">
                <img src="https://via.placeholder.com/300x400?text=Nota+Proveedor+1" alt="Nota 1" class="note-img">
                <div class="note-caption">Prov. A - 10:00 AM</div>
            </div>

            <div class="note-card">
                <img src="https://via.placeholder.com/300x450?text=Nota+Proveedor+2" alt="Nota 2" class="note-img">
                <div class="note-caption">Prov. B - 11:30 AM</div>
            </div>

            <div class="note-card">
                <img src="https://via.placeholder.com/300x300?text=Nota+Proveedor+3" alt="Nota 3" class="note-img">
                <div class="note-caption">Prov. C - 01:15 PM</div>
            </div>

            <div class="note-card">
                <img src="https://via.placeholder.com/300x500?text=Nota+Proveedor+4" alt="Nota 4" class="note-img">
                <div class="note-caption">Prov. A - 02:00 PM</div>
            </div>

            <div class="note-card">
                <img src="https://via.placeholder.com/300x400?text=Nota+Proveedor+5" alt="Nota 5" class="note-img">
                <div class="note-caption">Prov. D - 04:45 PM</div>
            </div>

            <div class="note-card">
                <img src="https://via.placeholder.com/300x400?text=Nota+Proveedor+6" alt="Nota 6" class="note-img">
                <div class="note-caption">Prov. E - 05:20 PM</div>
            </div>

        </div>
    </div>


    <div id="lightboxModal" class="modal-lightbox">
        <span class="close-lightbox">&times;</span>
        <img class="lightbox-content" id="imgGrande">
        <div id="captionGrande"></div>
    </div>


    <script th:inline="javascript">
        document.addEventListener('DOMContentLoaded', function() {
            const modal = document.getElementById('lightboxModal');
            const modalImg = document.getElementById('imgGrande');
            const captionText = document.getElementById('captionGrande');
            const closeSpan = document.querySelector('.close-lightbox');

            // Seleccionamos todas las imÃ¡genes de las notas
            const images = document.querySelectorAll('.note-img');

            images.forEach(img => {
                img.addEventListener('click', function() {
                    modal.style.display = "flex";
                    modalImg.src = this.src; // Ponemos la misma imagen en el modal
                    // Tomamos el texto del caption hermano
                    captionText.innerHTML = this.nextElementSibling.innerHTML;
                });
            });

            // Cerrar con la X
            closeSpan.addEventListener('click', () => modal.style.display = "none");

            // Cerrar clicando fuera de la imagen
            modal.addEventListener('click', (e) => {
                if(e.target === modal) modal.style.display = "none";
            });
        });
    </script>

</main>
</body>
</html>